{"ast":null,"code":"import { createStore } from 'vuex';\nconst storeOrig = createStore({\n  state: {\n    backendUrl: 'http://127.0.0.1:8000/api/cp1',\n    authToken: ''\n  },\n  mutations: {\n    setAuthToken: (state, payload) => {\n      state.authToken = payload;\n    }\n  },\n  actions: {\n    setAuthToken: (context, payload) => {\n      context.commit('setAuthToken', payload);\n    }\n  },\n  modules: {},\n  getters: {\n    getServerUrl: state => {\n      return state.backendUrl;\n    },\n    getAuthToken: state => {\n      return state.authToken;\n    }\n  }\n}); // Subscribe to store updates\n\nexport const store = storeOrig.subscribe((setAuthToken, state) => {\n  if (state.authToken) {\n    localStorage.setItem('auth_token', state.authToken);\n  } else {\n    localStorage.removeItem('auth_token');\n  }\n});","map":{"version":3,"names":["createStore","storeOrig","state","backendUrl","authToken","mutations","setAuthToken","payload","actions","context","commit","modules","getters","getServerUrl","getAuthToken","store","subscribe","localStorage","setItem","removeItem"],"sources":["D:/YandexDisk/websites/fll_drf/fll/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nconst storeOrig = createStore({\r\n    state: {\r\n        backendUrl: 'http://127.0.0.1:8000/api/cp1',\r\n        authToken: '',\r\n    },\r\n    mutations: {\r\n      setAuthToken: (state, payload) => {\r\n        state.authToken = payload;\r\n      },\r\n    },\r\n    actions: {\r\n      setAuthToken: (context, payload) => {\r\n        context.commit('setAuthToken', payload);\r\n      },\r\n    },\r\n    modules: {},\r\n    getters: {\r\n        getServerUrl: state => {\r\n            return state.backendUrl\r\n        },\r\n        getAuthToken: state => {\r\n            return state.authToken\r\n        }\r\n    },\r\n\r\n\r\n});\r\n\r\n// Subscribe to store updates\r\nexport const store = storeOrig.subscribe((setAuthToken, state) => {\r\n    if (state.authToken) {\r\n        localStorage.setItem('auth_token', state.authToken);\r\n    } else {\r\n        localStorage.removeItem('auth_token');\r\n    }\r\n});\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC1BE,KAAK,EAAE;IACHC,UAAU,EAAE,+BADT;IAEHC,SAAS,EAAE;EAFR,CADmB;EAK1BC,SAAS,EAAE;IACTC,YAAY,EAAE,CAACJ,KAAD,EAAQK,OAAR,KAAoB;MAChCL,KAAK,CAACE,SAAN,GAAkBG,OAAlB;IACD;EAHQ,CALe;EAU1BC,OAAO,EAAE;IACPF,YAAY,EAAE,CAACG,OAAD,EAAUF,OAAV,KAAsB;MAClCE,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+BH,OAA/B;IACD;EAHM,CAViB;EAe1BI,OAAO,EAAE,EAfiB;EAgB1BC,OAAO,EAAE;IACLC,YAAY,EAAEX,KAAK,IAAI;MACnB,OAAOA,KAAK,CAACC,UAAb;IACH,CAHI;IAILW,YAAY,EAAEZ,KAAK,IAAI;MACnB,OAAOA,KAAK,CAACE,SAAb;IACH;EANI;AAhBiB,CAAD,CAA7B,C,CA4BA;;AACA,OAAO,MAAMW,KAAK,GAAGd,SAAS,CAACe,SAAV,CAAoB,CAACV,YAAD,EAAeJ,KAAf,KAAyB;EAC9D,IAAIA,KAAK,CAACE,SAAV,EAAqB;IACjBa,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmChB,KAAK,CAACE,SAAzC;EACH,CAFD,MAEO;IACHa,YAAY,CAACE,UAAb,CAAwB,YAAxB;EACH;AACJ,CANoB,CAAd"},"metadata":{},"sourceType":"module"}