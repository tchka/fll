{"ast":null,"code":"import $ from 'jquery';\nexport default {\n  name: 'Header',\n  computed: {\n    auth() {\n      return this.$store.getters.getAuth;\n    }\n\n  },\n  methods: {\n    goLogin() {\n      this.$router.push({\n        name: 'login'\n      });\n    },\n\n    goLogout() {\n      localStorage.removeItem('auth_token');\n      this.$store.dispatch('setAuth', false);\n      $.ajax({\n        url: 'http://127.0.0.1:8000/auth/token/logout/',\n        type: 'POST',\n        success: response => {\n          console.log(response);\n          this.$store.dispatch('setAuth', true);\n          this.$router.push({\n            name: 'home'\n          });\n        },\n        error: response => {\n          console.log(response);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwCA,OAAOA,CAAP,MAAc,QAAd;AACA,eAAe;EACbC,IAAI,EAAE,QADO;EAEbC,QAAQ,EAAE;IACRC,IAAI,GAAG;MACL,OAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoBC,OAA3B;IACF;;EAHQ,CAFG;EAObC,OAAO,EAAE;IACPC,OAAO,GAAG;MACR,KAAKC,OAAL,CAAaC,IAAb,CAAkB;QAACT,IAAI,EAAE;MAAP,CAAlB;IACD,CAHM;;IAIPU,QAAQ,GAAG;MACTC,YAAY,CAACC,UAAb,CAAwB,YAAxB;MACA,KAAKT,MAAL,CAAYU,QAAZ,CAAqB,SAArB,EAAgC,KAAhC;MAEAd,CAAC,CAACe,IAAF,CAAO;QACLC,GAAG,EAAE,0CADA;QAELC,IAAI,EAAE,MAFD;QAGLC,OAAO,EAAGC,QAAD,IAAc;UACrBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;UACA,KAAKf,MAAL,CAAYU,QAAZ,CAAqB,SAArB,EAAgC,IAAhC;UACA,KAAKL,OAAL,CAAaC,IAAb,CAAkB;YAACT,IAAI,EAAE;UAAP,CAAlB;QACD,CAPI;QAQLqB,KAAK,EAAGH,QAAD,IAAc;UACnBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QACD;MAVI,CAAP;IAYF;;EApBO;AAPI,CAAf","names":["$","name","computed","auth","$store","getters","getAuth","methods","goLogin","$router","push","goLogout","localStorage","removeItem","dispatch","ajax","url","type","success","response","console","log","error"],"sourceRoot":"","sources":["D:\\YandexDisk\\websites\\fll_drf\\fll\\src\\components\\Header.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"wrapper\">\r\n      <div class=\"row\">\r\n        <div class=\"col contacts\">\r\n          <!--a href=\"tel:8800\">8 800 2000 305</a><br>\r\n          <span>Горячая линия FLL<br>\r\n          Звонок бесплатный по россии</span-->\r\n        </div>\r\n        <div class=\"col\">\r\n          <a href=\"/\" class=\"logo\"></a>\r\n        </div>\r\n        <div class=\"col user\">\r\n          <span @click=\"goLogin\" v-if=\"!auth\" class=\"login\">Вход</span>\r\n          <span @click=\"goLogout\" v-if=\"auth\" class=\"login\">Выход</span>\r\n          <span v-if=\"!auth\" href=\"/user/registration\" class=\"register\">Регистрация</span>\r\n          <div id=\"authForm\" class=\"overscreen\">\r\n            <form action=\"/user/authorization?action=authorization_verify\" method=\"POST\">\r\n              <div class=\"fields\">\r\n                <label for=\"login\">Логин</label>\r\n                <input name=\"user_login\" id=\"login\" type=\"text\" />\r\n              </div>\r\n              <div class=\"fields\">\r\n                <label for=\"password\">Пароль</label>\r\n                <input name=\"user_password\" id=\"password\" type=\"password\" />\r\n              </div>\r\n              <input type=\"submit\" class=\"submit\" value=\"Войти\" />\r\n            </form>\r\n            <div class=\"links\">\r\n              <a href=\"/user/registration\">Регистрация</a>\r\n              <a href=\"/user/remind_password\">Забыли пароль?</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nexport default {\r\n  name: 'Header',\r\n  computed: {\r\n    auth() {\r\n      return this.$store.getters.getAuth;\r\n    }\r\n  },\r\n  methods: {\r\n    goLogin() {\r\n      this.$router.push({name: 'login'});\r\n    },\r\n    goLogout() {\r\n      localStorage.removeItem('auth_token');\r\n      this.$store.dispatch('setAuth', false);\r\n\r\n      $.ajax({\r\n        url: 'http://127.0.0.1:8000/auth/token/logout/',\r\n        type: 'POST',\r\n        success: (response) => {\r\n          console.log(response);\r\n          this.$store.dispatch('setAuth', true);\r\n          this.$router.push({name: 'home'})\r\n        },\r\n        error: (response) => {\r\n          console.log(response);\r\n        },\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}