{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col contacts\"\n}, [/*#__PURE__*/_createCommentVNode(\"a href=\\\"tel:8800\\\">8 800 2000 305</a><br>\\r\\n          <span>Горячая линия FLL<br>\\r\\n          Звонок бесплатный по россии</span\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/\",\n  class: \"logo\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"col user\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  href: \"/user/registration\",\n  class: \"register\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"authForm\",\n  class: \"overscreen\"\n}, [/*#__PURE__*/_createElementVNode(\"form\", {\n  action: \"/user/authorization?action=authorization_verify\",\n  method: \"POST\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"fields\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"login\"\n}, \"Логин\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  name: \"user_login\",\n  id: \"login\",\n  type: \"text\"\n})]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"fields\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Пароль\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  name: \"user_password\",\n  id: \"password\",\n  type: \"password\"\n})]), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"submit\",\n  class: \"submit\",\n  value: \"Войти\"\n})]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"links\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/user/registration\"\n}, \"Регистрация\"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/user/remind_password\"\n}, \"Забыли пароль?\")])], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [!$options.auth ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goLogin && $options.goLogin(...args)),\n    class: \"login\"\n  }, \"Вход\")) : _createCommentVNode(\"v-if\", true), $options.auth ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 1,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.goLogout && $options.goLogout(...args)),\n    class: \"login\"\n  }, \"Выход\")) : _createCommentVNode(\"v-if\", true), !$options.auth ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"Регистрация\")) : _createCommentVNode(\"v-if\", true), _hoisted_7])])])]);\n}","map":{"version":3,"mappings":";;EAESA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCACTC,oBAIM,KAJN,EAIM;EAJDD,KAAK,EAAC;AAIL,CAJN,EAAyB,cACvBE,yJADuB,CAAzB;;AAAA;;gCAKAD,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAAgB,cACdC,oBAA6B,GAA7B,EAA6B;EAA1BE,IAAI,EAAC,GAAqB;EAAjBH,KAAK,EAAC;AAAW,CAA7B,CADc,CAAhB;;AAAA;;;EAGKA,KAAK,EAAC;;;;EAGUG,IAAI,EAAC;EAAqBH,KAAK,EAAC;;;gCACnDC,oBAgBM,KAhBN,EAgBM;EAhBDG,EAAE,EAAC,UAgBF;EAhBaJ,KAAK,EAAC;AAgBnB,CAhBN,gBACEC,oBAUO,MAVP,EAUO;EAVDI,MAAM,EAAC,iDAUN;EAVwDC,MAAM,EAAC;AAU/D,CAVP,gBACEL,oBAGM,KAHN,EAGM;EAHDD,KAAK,EAAC;AAGL,CAHN,EAAmB,cACjBC,oBAAgC,OAAhC,EAAgC;EAAzBM,GAAG,EAAC;AAAqB,CAAhC,EAAmB,OAAnB,CADiB,eAEjBN,oBAAkD,OAAlD,EAAkD;EAA3CO,IAAI,EAAC,YAAsC;EAAzBJ,EAAE,EAAC,OAAsB;EAAdK,IAAI,EAAC;AAAS,CAAlD,CAFiB,CAAnB,gBAIAR,oBAGM,KAHN,EAGM;EAHDD,KAAK,EAAC;AAGL,CAHN,EAAmB,cACjBC,oBAAoC,OAApC,EAAoC;EAA7BM,GAAG,EAAC;AAAyB,CAApC,EAAsB,QAAtB,CADiB,eAEjBN,oBAA4D,OAA5D,EAA4D;EAArDO,IAAI,EAAC,eAAgD;EAAhCJ,EAAE,EAAC,UAA6B;EAAlBK,IAAI,EAAC;AAAa,CAA5D,CAFiB,CAAnB,gBAIAR,oBAAoD,OAApD,EAAoD;EAA7CQ,IAAI,EAAC,QAAwC;EAA/BT,KAAK,EAAC,QAAyB;EAAhBU,KAAK,EAAC;AAAU,CAApD,EATF,gBAWAT,oBAGM,KAHN,EAGM;EAHDD,KAAK,EAAC;AAGL,CAHN,EAAkB,cAChBC,oBAA4C,GAA5C,EAA4C;EAAzCE,IAAI,EAAC;AAAoC,CAA5C,EAA6B,aAA7B,CADgB,eAEhBF,oBAAkD,GAAlD,EAAkD;EAA/CE,IAAI,EAAC;AAA0C,CAAlD,EAAgC,gBAAhC,CAFgB,CAAlB,EAZF;;AAAA;;;uBAfRQ,oBAmCS,QAnCT,EAmCS,IAnCT,EAmCS,CAlCPV,oBAiCM,KAjCN,cAiCM,CAhCJA,oBA+BM,KA/BN,cA+BM,CA9BJW,UA8BI,EAzBJC,UAyBI,EAtBJZ,oBAqBM,KArBN,cAqBM,EApB0Ba,+BAA9BH,oBAA6D,MAA7D,EAA6D;UAAA;IAAtDI,OAAK,yCAAED,6CAAF,CAAiD;IAAzBd,KAAK,EAAC;EAAmB,CAA7D,EAAkD,MAAlD,sCAoBI,EAnB0Bc,+BAA9BH,oBAA8D,MAA9D,EAA8D;UAAA;IAAvDI,OAAK,yCAAED,+CAAF,CAAkD;IAA1Bd,KAAK,EAAC;EAAoB,CAA9D,EAAkD,OAAlD,sCAmBI,GAlBSc,+BAAbH,oBAAgF,MAAhF,cAA8D,aAA9D,sCAkBI,EAjBJK,UAiBI,CArBN,CAsBI,CA/BN,CAgCI,CAjCN,CAkCO,CAnCT","names":["class","_createElementVNode","_createCommentVNode","href","id","action","method","for","name","type","value","_createElementBlock","_hoisted_3","_hoisted_4","$options","onClick","_hoisted_7"],"sourceRoot":"","sources":["D:\\YandexDisk\\websites\\fll_drf\\fll\\src\\components\\Header.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"wrapper\">\r\n      <div class=\"row\">\r\n        <div class=\"col contacts\">\r\n          <!--a href=\"tel:8800\">8 800 2000 305</a><br>\r\n          <span>Горячая линия FLL<br>\r\n          Звонок бесплатный по россии</span-->\r\n        </div>\r\n        <div class=\"col\">\r\n          <a href=\"/\" class=\"logo\"></a>\r\n        </div>\r\n        <div class=\"col user\">\r\n          <span @click=\"goLogin\" v-if=\"!auth\" class=\"login\">Вход</span>\r\n          <span @click=\"goLogout\" v-if=\"auth\" class=\"login\">Выход</span>\r\n          <span v-if=\"!auth\" href=\"/user/registration\" class=\"register\">Регистрация</span>\r\n          <div id=\"authForm\" class=\"overscreen\">\r\n            <form action=\"/user/authorization?action=authorization_verify\" method=\"POST\">\r\n              <div class=\"fields\">\r\n                <label for=\"login\">Логин</label>\r\n                <input name=\"user_login\" id=\"login\" type=\"text\" />\r\n              </div>\r\n              <div class=\"fields\">\r\n                <label for=\"password\">Пароль</label>\r\n                <input name=\"user_password\" id=\"password\" type=\"password\" />\r\n              </div>\r\n              <input type=\"submit\" class=\"submit\" value=\"Войти\" />\r\n            </form>\r\n            <div class=\"links\">\r\n              <a href=\"/user/registration\">Регистрация</a>\r\n              <a href=\"/user/remind_password\">Забыли пароль?</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nexport default {\r\n  name: 'Header',\r\n  computed: {\r\n    auth() {\r\n      if (localStorage.getItem('auth_token')) {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    goLogin() {\r\n      this.$router.push({name: 'login'});\r\n    },\r\n    goLogout() {\r\n      localStorage.removeItem('auth_token');\r\n      this.$store.dispatch('setAuth', false);\r\n\r\n      $.ajax({\r\n        url: 'http://127.0.0.1:8000/auth/token/logout/',\r\n        type: 'POST',\r\n        success: (response) => {\r\n          console.log(response);\r\n          this.$store.dispatch('setAuth', true);\r\n          this.$router.push({name: 'home'})\r\n        },\r\n        error: (response) => {\r\n          console.log(response);\r\n        },\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}