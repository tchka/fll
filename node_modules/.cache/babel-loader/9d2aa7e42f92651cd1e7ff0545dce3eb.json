{"ast":null,"code":"import $ from 'jquery';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      login: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    setLogin() {\n      $.ajax({\n        url: 'http://127.0.0.1:8000/auth/token/login/',\n        type: 'POST',\n        data: {\n          username: this.login,\n          password: this.password\n        },\n        success: response => {\n          console.log(response);\n          localStorage.setItem('auth_token', response.auth_token);\n        },\n        error: response => {\n          console.log(response);\n          if (response.status === 400) $('#response').html('Логин или пароль не верны');\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4BA,OAAOA,CAAP,MAAc,QAAd;AACA,eAAe;EACbC,IAAI,EAAE,OADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,QAAQ,EAAE;IAFL,CAAP;EAID,CAPY;;EAQbC,OAAO,EAAE;IACPC,QAAQ,GAAG;MACTN,CAAC,CAACO,IAAF,CAAO;QACLC,GAAG,EAAE,yCADA;QAELC,IAAI,EAAE,MAFD;QAGLP,IAAI,EAAE;UACJQ,QAAQ,EAAE,KAAKP,KADX;UAEJC,QAAQ,EAAE,KAAKA;QAFX,CAHD;QAOLO,OAAO,EAAGC,QAAD,IAAc;UACrBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;UACAG,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCJ,QAAQ,CAACK,UAA5C;QACD,CAVI;QAWLC,KAAK,EAAGN,QAAD,IAAc;UACnBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;UACA,IAAIA,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6BnB,CAAC,CAAC,WAAD,CAAD,CAAeoB,IAAf,CAAoB,2BAApB;QAC9B;MAdI,CAAP;IAgBF;;EAlBO;AARI,CAAf","names":["$","name","data","login","password","methods","setLogin","ajax","url","type","username","success","response","console","log","localStorage","setItem","auth_token","error","status","html"],"sourceRoot":"","sources":["D:\\YandexDisk\\websites\\fll_drf\\fll\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"screen wrapper\">\r\n\t<div class=\"clearfix\">\r\n\r\n      <div class=\"columns3 columns3-xwide columns3-last\">\r\n        <h1>Логин</h1>\r\n        <div class=\"fields\">\r\n          <div class=\"field\">\r\n            <label>Имя пользователя:</label>\r\n            <input type=\"text\" v-model=\"login\" maxlength=\"150\">\r\n          </div>\r\n          <div class=\"field\">\r\n            <label>Пароль:</label>\r\n            <input type=\"password\" v-model=\"password\" maxlength=\"150\">\r\n          </div>\r\n          <div class=\"field\">\r\n            <div class=\"control\">\r\n              <button @click=\"setLogin\" class=\"button is-link\">Submit</button>\r\n            </div>\r\n          </div>\r\n          <div id=\"response\"></div>\r\n\t    </div>\r\n\t  </div>\r\n\t</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      login: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods: {\r\n    setLogin() {\r\n      $.ajax({\r\n        url: 'http://127.0.0.1:8000/auth/token/login/',\r\n        type: 'POST',\r\n        data: {\r\n          username: this.login,\r\n          password: this.password\r\n        },\r\n        success: (response) => {\r\n          console.log(response);\r\n          localStorage.setItem('auth_token', response.auth_token)\r\n        },\r\n        error: (response) => {\r\n          console.log(response);\r\n          if (response.status === 400) $('#response').html('Логин или пароль не верны');\r\n        },\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}