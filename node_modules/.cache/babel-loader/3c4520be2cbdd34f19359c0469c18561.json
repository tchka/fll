{"ast":null,"code":"import { createStore } from 'vuex';\nexport default store = () => {\n  const store = createStore({\n    state: {\n      backendUrl: 'http://127.0.0.1:8000/api/cp1',\n      authToken: ''\n    },\n    mutations: {\n      setAuthToken: (state, payload) => {\n        state.authToken = payload;\n      }\n    },\n    actions: {\n      setAuthToken: (context, payload) => {\n        context.commit('setAuthToken', payload);\n      }\n    },\n    modules: {},\n    getters: {\n      getServerUrl: state => {\n        return state.backendUrl;\n      },\n      getAuthToken: state => {\n        return state.authToken;\n      }\n    }\n  });\n  store.subscribe((setAuthToken, state) => {\n    if (state.authToken) {\n      localStorage.setItem('auth_token', state.authToken);\n    } else {\n      localStorage.removeItem('auth_token');\n    }\n  });\n  return store;\n};","map":{"version":3,"names":["createStore","store","state","backendUrl","authToken","mutations","setAuthToken","payload","actions","context","commit","modules","getters","getServerUrl","getAuthToken","subscribe","localStorage","setItem","removeItem"],"sources":["D:/YandexDisk/websites/fll_drf/fll/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nexport default store = () => {\r\n    const store = createStore({\r\n        state: {\r\n            backendUrl: 'http://127.0.0.1:8000/api/cp1',\r\n            authToken: '',\r\n        },\r\n        mutations: {\r\n          setAuthToken: (state, payload) => {\r\n            state.authToken = payload;\r\n          },\r\n        },\r\n        actions: {\r\n          setAuthToken: (context, payload) => {\r\n            context.commit('setAuthToken', payload);\r\n          },\r\n        },\r\n        modules: {},\r\n        getters: {\r\n            getServerUrl: state => {\r\n                return state.backendUrl\r\n            },\r\n            getAuthToken: state => {\r\n                return state.authToken\r\n            }\r\n        },\r\n    });\r\n\r\n    store.subscribe((setAuthToken, state) => {\r\n        if (state.authToken) {\r\n            localStorage.setItem('auth_token', state.authToken);\r\n        } else {\r\n            localStorage.removeItem('auth_token');\r\n        }\r\n    });\r\n\r\n    return store;\r\n};"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeC,KAAK,GAAG,MAAM;EACzB,MAAMA,KAAK,GAAGD,WAAW,CAAC;IACtBE,KAAK,EAAE;MACHC,UAAU,EAAE,+BADT;MAEHC,SAAS,EAAE;IAFR,CADe;IAKtBC,SAAS,EAAE;MACTC,YAAY,EAAE,CAACJ,KAAD,EAAQK,OAAR,KAAoB;QAChCL,KAAK,CAACE,SAAN,GAAkBG,OAAlB;MACD;IAHQ,CALW;IAUtBC,OAAO,EAAE;MACPF,YAAY,EAAE,CAACG,OAAD,EAAUF,OAAV,KAAsB;QAClCE,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+BH,OAA/B;MACD;IAHM,CAVa;IAetBI,OAAO,EAAE,EAfa;IAgBtBC,OAAO,EAAE;MACLC,YAAY,EAAEX,KAAK,IAAI;QACnB,OAAOA,KAAK,CAACC,UAAb;MACH,CAHI;MAILW,YAAY,EAAEZ,KAAK,IAAI;QACnB,OAAOA,KAAK,CAACE,SAAb;MACH;IANI;EAhBa,CAAD,CAAzB;EA0BAH,KAAK,CAACc,SAAN,CAAgB,CAACT,YAAD,EAAeJ,KAAf,KAAyB;IACrC,IAAIA,KAAK,CAACE,SAAV,EAAqB;MACjBY,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCf,KAAK,CAACE,SAAzC;IACH,CAFD,MAEO;MACHY,YAAY,CAACE,UAAb,CAAwB,YAAxB;IACH;EACJ,CAND;EAQA,OAAOjB,KAAP;AACH,CApCD"},"metadata":{},"sourceType":"module"}